---
category: type-script
title: 14 - First of Array
publishedDateTimeISO: 2026-01-04T20:38:00.000Z
tags:
  - typescript
  - type-challenges
---
### 질문

배열(튜플) `T`를 받아 첫 원소의 타입을 반환하는 제네릭 `First<T>`를 구현하세요.

예시:

```ts
type arr1 = ['a', 'b', 'c']
type arr2 = [3, 2, 1]

type head1 = First<arr1> // expected to be 'a'
type head2 = First<arr2> // expected to be 3

/* _____________ 테스트 케이스 _____________ */
import type { Equal, Expect } from '@type-challenges/utils'

type cases = [
  Expect<Equal<First<[3, 2, 1]>, 3>>,
  Expect<Equal<First<[() => 123, { a: string }]>, () => 123>>,
  Expect<Equal<First<[]>, never>>,
  Expect<Equal<First<[undefined]>, undefined>>,
]

type errors = [
  // @ts-expect-error
  First<'notArray'>,
  // @ts-expect-error
  First<{ 0: 'arrayLike' }>,
]
```

### 사전 지식

1. 조건부 타입 `extends`

   ```ts
   T extends U ? A : B
   ```

   삼항 연산자 형태의 타입 비교문. 참이면 A, 아니면 B를 return한다.
2. `infer`

   ```ts
   T extends [infer X, number] ? X : never
   ```

   조건부 타입 내에서 사용할 수 있는 타입 추론 키워드. 매칭되는 타입을 변수처럼 추출할 수 있다.
3. 배열의 나머지 연산 `...`

   ```ts
   [infer X, ...infer Rest]
   ```

   `...` 연산자는 앞 부분과 나머지를 분리하여 이 위치 이후로의 모든 요소를 하나의 타입으로 묶는데 사용한다.

### 풀이

<Collapsible>
  ```ts
  type First<T extends any[]> = T extends [infer A, ...infer Rest] ? A : never
  ```

  1. `T extends [infer A, ...infer Rest]` : T가 **1개 이상의 요소를 가진 튜플**인지 검사하고, 맞을 경우 첫 번째 요소의 타입을 A로, 나머지를 Rest 타입으로 추출한다.
  2. `? A : never` : 조건이 참일 경우 A를, 아닐 경우 never를 return한다.

  ```ts
  type First<T extends any[]> = T extends [] ? never : T[0]
  type First<T extends any[]> = T['length'] extends 0 ? never : T[0]

  First<string[]> // string
  ```

  위는 정답으로 인정되나 `string[]`은 빈 배열일수도 있고 아닐수도 있기 때문에, 타입 수준에서 “첫 번째 요소가 반드시 존재한다”는 사실을 증명할 수 없다. 따라서 \`T\[0]\`의 결과 타입인 \`string\`이 그대로 평가된다.

  `infer`를 쓰는 패턴은 T가 **1개 이상의 요소를 가진 튜플인**지 검사하기 때문에 **일반 배열**은 통과하지 못한다.
</Collapsible>
