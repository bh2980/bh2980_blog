---
title: 28. implement clearAllTimeout()
publishedDateTimeISO: 2026-01-09T13:02:00.000Z
tags:
  - bfedev
  - javascript
---
## 문제

`clearAllTimeout()`을 구현해주세요. 단, `window.setTImeout`과 `window.clearTimeout`의 인터페이스는 동일해야합니다.

## 풀이

<Collapsible>
  ```js
  // @mark Tooltip {27-58} content="안전하게 원래 호출될 때의 this인 window를 바인딩해준다. 이는 setTimeout이 단독호출처럼 보이지만 실제로는 window의 메서드인 window.setTimeout으로 호출되기 때문"
  const originalSetTimeout = window.setTimeout.bind(window);
  const originalClearTimeout = window.clearTimeout.bind(window);
  let timerSet = new Set();

  const clearAllTimeout = () => {
    timerSet.forEach(timer => originalClearTimeout(timer));
    timerSet.clear()
  }

  // @mark Tooltip {39-51} content="추후 callback의 arguments로 들어간다."
  window.setTimeout = (handler, timeout, ...arguments) => {
    let timer;
  // @mark Tooltip {2-10} content="시간이 지나 callback이 따로 실행되었을 때의 this를 보존하기 위해 function 키워드를 사용한다."
    function callback(...args){
      try{
        handler.apply(this, args);
      }finally{
        timerSet.delete(timer);
      }
    }

    timer = originalSetTimeout(callback, timeout, ...arguments);
    timerSet.add(timer);

    return timer;
  }

  window.clearTimeout = (handle) => {
    timerSet.delete(handle);
    originalClearTimeout(handle);
  }
  ```
  />
</Collapsible>
