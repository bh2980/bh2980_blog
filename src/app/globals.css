@import "tailwindcss";
@plugin "@tailwindcss/typography";

.prose {
  /* 코드 줄 번호 */
  pre {
    padding: 0;
  }

  code {
    padding: 16px 0 !important;

    [data-line] {
      padding-left: 24px;
    }
  }

  code[data-line-numbers] {
    counter-reset: line;
  }

  code[data-line-numbers] > [data-line]::before {
    counter-increment: line;
    content: counter(line);

    /* Other styling */
    display: inline-block;
    width: 0.75rem;
    margin-right: 2rem;
    text-align: right;
    color: gray;
  }

  code[data-line-numbers-max-digits="2"] > [data-line]::before {
    width: 1.25rem;
  }

  code[data-line-numbers-max-digits="3"] > [data-line]::before {
    width: 1.75rem;
  }

  code[data-line-numbers-max-digits="4"] > [data-line]::before {
    width: 2.25rem;
  }

  /* 코드 하이라이팅 */

  code span[data-highlighted-line] {
    @apply border-l-2 border-y-0 border-transparent border-l-blue-500
           bg-indigo-400/10 dark:border-blue-500 dark:bg-slate-700;
  }

  [data-rehype-pretty-code-title] {
    @apply px-5 py-3 font-mono text-sm text-gray-100 font-bold bg-slate-900 border border-b-0 border-slate-900 rounded-t-lg dark:text-gray-200 dark:border-gray-700 dark:bg-gray-800;
  }

  [data-rehype-pretty-code-title] + pre {
    @apply mt-0 rounded-t-none;
  }

  /* 인라인 코드 */
  :not(pre) > code::before,
  :not(pre) > code::after {
    display: none;
  }

  /* inline code block style */
  :not(pre) > code {
    @apply dark:bg-gray-900 bg-slate-900 text-slate-100 dark:border-gray-700 font-mono text-sm font-normal align-middle rounded p-0.5;

    padding: 0.25rem 0.5rem !important;

    [data-line] {
      padding: 0;
    }
  }
}
